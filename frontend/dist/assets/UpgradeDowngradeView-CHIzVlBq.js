import{a as p}from"./axios-B6xwUs71.js";import{_ as f,n as m,c as n,y as g,z as _,a as e,f as h,w as r,e as d,B as l,q as D,u as w,F as b,o as c}from"./index-C6X_6u4j.js";const v={data(){return{formData:{id:"",action:""},errorMessage:null}},methods:{checkAction(){this.formData.action?this.upgradeDowngradeUser():alert("Please select an action (Upgrade or Downgrade) before submitting.")},upgradeDowngradeUser(){switch(this.formData.action){case"upgrade":this.formData.action=!0;break;case"downgrade":this.formData.action=!1;break}const s={isVolunteer:this.formData.action,certificateCode:this.formData.certificateCode};this.formData.action="",p.patch(`http://localhost:3000/api/v1/users/${this.formData.id}`,s,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(t=>{console.log("User modified:",t.data),this.$router.push("/")}).catch(t=>{t.response?this.errorMessage=t.response.data:console.error("Error modifying user:",t)})}}},k={key:0,class:"error-message"},U={class:"upgradeDowngrade-container"},C=e("h2",null,"Upgrade or downgrade a user",-1),y={class:"input-group"},V=e("label",{for:"id"},"id",-1),x={class:"input-group"},M=e("label",{for:"certificateCode"},"certificateCode",-1),B={class:"input-group"},A=e("label",{for:"upgrade"},"Upgrade",-1),S=e("br",null,null,-1),F={class:"input-group"},N=e("label",{for:"downgrade"},"Downgrade",-1),q=e("br",null,null,-1),z={class:"container_buttons_inside_form"},E=e("button",{type:"submit",class:"button_inside_form"},"Modify",-1),G=e("button",null,"Go back",-1);function I(s,t,P,R,o,i){const u=m("router-link");return c(),n(b,null,[o.errorMessage?(c(),n("div",k,g(o.errorMessage),1)):_("",!0),e("div",U,[e("form",{onSubmit:t[4]||(t[4]=h((...a)=>i.checkAction&&i.checkAction(...a),["prevent"])),class:"upgradeDowngradeForm"},[C,e("div",y,[V,r(e("input",{type:"text",id:"id","onUpdate:modelValue":t[0]||(t[0]=a=>o.formData.id=a),required:""},null,512),[[d,o.formData.id]])]),e("div",x,[M,r(e("input",{type:"text",id:"certificateCode","onUpdate:modelValue":t[1]||(t[1]=a=>o.formData.certificateCode=a)},null,512),[[d,o.formData.certificateCode]])]),e("div",B,[A,r(e("input",{type:"radio",id:"upgrade","onUpdate:modelValue":t[2]||(t[2]=a=>o.formData.action=a),value:"upgrade"},null,512),[[l,o.formData.action]]),S]),e("div",F,[N,r(e("input",{type:"radio",id:"downgrade","onUpdate:modelValue":t[3]||(t[3]=a=>o.formData.action=a),value:"downgrade"},null,512),[[l,o.formData.action]]),q]),e("div",z,[E,D(u,{to:"/actionCert",class:"button_inside_form"},{default:w(()=>[G]),_:1})])],32)])],64)}const H=f(v,[["render",I]]);export{H as default};
