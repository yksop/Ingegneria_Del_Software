import{a as c}from"./axios-B6xwUs71.js";import{_ as m,c as A,a as s,w as a,e as o,f as p,o as d}from"./index-C6X_6u4j.js";const f="data:image/jpeg;base64,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",g={data(){return{credentials:{name:"",surname:"",username:"",email:"",password:"",confirmPassword:"",latitude:null,longitude:null,volunteer:{isVolunteer:!1},certifier:{isCertifier:!1},operator118:{isOperator118:!1},file:null},emailValid:!0,passwordValid:!0,passwordMatch:!0,emailErrorMessage:"",imageData:null}},methods:{handleRegistrationSubmission(){if(!this.validateEmail(this.credentials.email)){this.emailValid=!1;return}if(!this.validatePassword(this.credentials.password)){this.passwordValid=!1;return}if(this.credentials.password!==this.credentials.confirmPassword){this.passwordMatch=!1,alert(`Password and Confirm Password fields do not match!
`);return}const i={name:this.credentials.name,surname:this.credentials.surname,username:this.credentials.username,email:this.credentials.email,password:this.credentials.password,latitude:this.credentials.latitude,longitude:this.credentials.longitude,volunteer:this.credentials.volunteer,certifier:this.credentials.certifier,operator118:this.credentials.operator118};c.post("http://localhost:3000/api/v1/users",i).then(e=>{console.log("Registration successful:",e.data),this.$router.push("/login")},e=>{console.error("Registration failed:",e)}).catch(e=>{console.error("Axios request failed:",e)})},getUserLocation(){navigator.geolocation?navigator.geolocation.getCurrentPosition(i=>{this.credentials.latitude=Number(i.coords.latitude),this.credentials.longitude=Number(i.coords.longitude)},i=>{console.error("Error Code = "+i.code+" - "+i.message)}):console.log("Geolocation is not supported by this browser.")},validateEmail(i){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(i).toLowerCase())?!0:(alert(`Invalid email format. Email should be something like example@example.example
`),!1)},validatePassword(i){return/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&*]).{6,}$/.test(i)?!0:(alert(`Invalid password format. Password should be at least 6 characters long and contain at least one numeric digit, one uppercase letter, one special character and one lowercase letter.
`),!1)},onFileChange(i){const e=i.target.files[0];if(e){this.file=e;const l=new FileReader;l.onload=u=>{this.imageData=u.target.result},l.readAsDataURL(e)}}},created(){this.getUserLocation()}},h={class:"registration-container"},w=s("h2",null,"Registration",-1),x={class:"input-group"},N=s("label",{for:"name"},"First name",-1),b={class:"input-group"},v=s("label",{for:"surname"},"Last name",-1),B={class:"input-group"},E=s("label",{for:"username"},"Username",-1),Y={class:"input-group"},P=s("label",{for:"email"},"Email",-1),U={class:"input-group"},F=s("label",{for:"password"},"Password",-1),V={class:"input-group"},C=s("label",{for:"password"},"Confirm Password",-1),I=s("label",{for:"file"},"Carica una foto del profilo (facoltativo):",-1),L={class:"preview"},R=s("p",null,"Anteprima della foto:",-1),q=["src"],D={key:1,src:f,alt:"Anteprima"},S=s("button",{type:"submit"},"Sign Up",-1);function H(i,e,l,u,r,n){return d(),A("div",h,[s("form",{onSubmit:e[7]||(e[7]=p((...t)=>n.handleRegistrationSubmission&&n.handleRegistrationSubmission(...t),["prevent"])),class:"registration-form"},[w,s("div",x,[N,a(s("input",{type:"text",id:"name","onUpdate:modelValue":e[0]||(e[0]=t=>r.credentials.name=t),required:""},null,512),[[o,r.credentials.name]])]),s("div",b,[v,a(s("input",{type:"text",id:"surname","onUpdate:modelValue":e[1]||(e[1]=t=>r.credentials.surname=t),required:""},null,512),[[o,r.credentials.surname]])]),s("div",B,[E,a(s("input",{type:"text",id:"username","onUpdate:modelValue":e[2]||(e[2]=t=>r.credentials.username=t),required:""},null,512),[[o,r.credentials.username]])]),s("div",Y,[P,a(s("input",{type:"email",id:"email","onUpdate:modelValue":e[3]||(e[3]=t=>r.credentials.email=t),required:""},null,512),[[o,r.credentials.email]])]),s("div",U,[F,a(s("input",{type:"password",id:"password","onUpdate:modelValue":e[4]||(e[4]=t=>r.credentials.password=t),required:""},null,512),[[o,r.credentials.password]])]),s("div",V,[C,a(s("input",{type:"password",id:"password","onUpdate:modelValue":e[5]||(e[5]=t=>r.credentials.confirmPassword=t),required:""},null,512),[[o,r.credentials.confirmPassword]])]),I,s("input",{type:"file",id:"file",onChange:e[6]||(e[6]=(...t)=>n.onFileChange&&n.onFileChange(...t))},null,32),s("div",L,[R,r.imageData?(d(),A("img",{key:0,src:r.imageData,alt:"Anteprima"},null,8,q)):(d(),A("img",D))]),S],32)])}const W=m(g,[["render",H]]);export{W as default};
